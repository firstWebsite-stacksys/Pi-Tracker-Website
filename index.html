<!DOCTYPE html>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
π Digits Tracker
<script src="https://cdn.tailwindcss.com"></script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; }
</style>
<div id="app"></div>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
<script type="text/babel">
const { useState, useEffect, useRef } = React;
const PI_DIGITS = "3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679";
const PiDigitsTracker = () => {
  const [input, setInput] = useState('');
  const [bestScore, setBestScore] = useState(0);
  const [currentStreak, setCurrentStreak] = useState(0);
  const [showHint, setShowHint] = useState(false);
  const [gameStarted, setGameStarted] = useState(false);
  const [mistake, setMistake] = useState(false);
  const inputRef = useRef(null);
  useEffect(() => {
    const saved = parseInt(localStorage.getItem('piBestScore') || '0');
    setBestScore(saved);
  }, []);
  const handleStart = () => {
    setGameStarted(true);
    setInput('');
    setCurrentStreak(0);
    setMistake(false);
    setTimeout(() => inputRef.current?.focus(), 100);
  };
  const handleReset = () => {
    setInput('');
    setCurrentStreak(0);
    setMistake(false);
    inputRef.current?.focus();
  };
  const handleInput = (e) => {
    const value = e.target.value;
    const lastChar = value[value.length - 1];
    if (lastChar && !/[0-9.]/.test(lastChar)) return;
    if (PI_DIGITS.startsWith(value)) {
      setInput(value);
      setMistake(false);
      const digitCount = value.replace('.', '').length;
      setCurrentStreak(digitCount);
      if (digitCount > bestScore) {
        setBestScore(digitCount);
        localStorage.setItem('piBestScore', digitCount.toString());
      }
    } else {
      setMistake(true);
    }
  };
  const handleContinue = () => {
    setInput('');
    setCurrentStreak(0);
    setMistake(false);
    inputRef.current?.focus();
  };
  const handleKeyDown = (e) => {
    if (e.key === 'Enter' && mistake) {
      e.preventDefault();
      handleContinue();
    }
  };
  const getNextDigits = (count = 10) => {
    const start = input.length;
    return PI_DIGITS.slice(start, start + count);
  };
  const Trophy = () => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
      <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
      <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
      <path d="M4 22h16"></path>
      <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
      <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
      <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
    </svg>
  );
  const RotateCcw = () => (
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
      <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
      <path d="M3 3v5h5"></path>
    </svg>
  );
  const Eye = () => (
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
      <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"></path>
      <circle cx="12" cy="12" r="3"></circle>
    </svg>
  );
  const EyeOff = () => (
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
      <path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"></path>
      <path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"></path>
      <path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"></path>
      <line x1="2" x2="22" y1="2" y2="22"></line>
    </svg>
  );
  if (!gameStarted) {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center p-4">
        <div className="bg-white rounded-2xl shadow-2xl p-8 max-w-lg w-full">
          <div className="text-center mb-8">
            <h1 className="text-5xl font-bold text-gray-800 mb-2">π Digits Tracker</h1>
            <p className="text-gray-600">Practice memorizing the digits of pi at your own pace</p>
          </div>
          <div className="bg-blue-50 rounded-xl p-6 mb-6">
            <h2 className="font-semibold text-gray-800 mb-3">How to play:</h2>
            <ul className="text-gray-700 space-y-2 text-sm">
              <li>• Type the digits of π starting from 3.14159...</li>
              <li>• No time pressure - go at your own pace</li>
              <li>• Use the hint button if you get stuck</li>
              <li>• Track your best score and keep improving!</li>
            </ul>
          </div>
          <div className="flex items-center justify-between mb-6 bg-purple-50 rounded-xl p-4">
            <span className="text-gray-700 font-medium">Personal Best</span>
            <div className="flex items-center gap-2">
              <div className="text-yellow-500"><Trophy /></div>
              <span className="text-2xl font-bold text-purple-600">{bestScore}</span>
              <span className="text-gray-600">digits</span>
            </div>
          </div>
          <button onClick={handleStart} className="w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 rounded-xl font-semibold text-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg">
            Start Practicing
          </button>
        </div>
      </div>
    );
  }
  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-600 to-purple-700 p-4">
      <div className="max-w-4xl mx-auto pt-8">
        <div className="bg-white rounded-2xl shadow-2xl p-6 mb-6">
          <div className="flex justify-between items-center mb-6">
            <h1 className="text-3xl font-bold text-gray-800">π Digits Tracker</h1>
            <button onClick={() => setGameStarted(false)} className="text-gray-600 hover:text-gray-800 font-medium">← Back</button>
          </div>
          <div className="grid grid-cols-2 gap-4 mb-6">
            <div className="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4">
              <div className="text-purple-700 text-sm mb-1">Current Streak</div>
              <div className="text-3xl font-bold text-purple-600">{currentStreak}</div>
            </div>
            <div className="bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-4">
              <div className="text-yellow-700 text-sm mb-1 flex items-center gap-2"><Trophy />Personal Best</div>
              <div className="text-3xl font-bold text-yellow-600">{bestScore}</div>
            </div>
          </div>
          <div className={`bg-gray-50 rounded-xl p-6 mb-4 transition-all ${mistake ? 'ring-4 ring-red-400' : ''}`}>
            <div className="text-gray-600 text-sm mb-2">Type the digits of π:</div>
            <input ref={inputRef} type="text" value={input} onChange={handleInput} onKeyDown={handleKeyDown} className="w-full text-2xl font-mono p-4 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" placeholder="3.14159..." autoComplete="off" />
          </div>
          {mistake && (
            <div className="bg-red-50 border-2 border-red-400 rounded-xl p-4 mb-4">
              <div className="text-red-700 font-semibold mb-2">Oops! Wrong digit</div>
              <div className="text-red-600 mb-3">The next digit is: <span className="text-2xl font-mono font-bold">{PI_DIGITS[input.length]}</span></div>
              <button onClick={handleContinue} className="w-full bg-red-600 text-white py-2 rounded-lg font-semibold hover:bg-red-700 transition-all">Continue with this digit (or press Enter)</button>
            </div>
          )}
          {showHint && (
            <div className="bg-blue-50 rounded-xl p-4 mb-4">
              <div className="text-blue-700 text-sm mb-2">Next 10 digits:</div>
              <div className="text-2xl font-mono font-bold text-blue-600">{getNextDigits()}</div>
            </div>
          )}
          <div className="flex gap-3">
            <button onClick={handleReset} className="flex-1 bg-gray-600 text-white py-3 rounded-xl font-semibold hover:bg-gray-700 transition-all flex items-center justify-center gap-2"><RotateCcw />Reset</button>
            <button onClick={() => setShowHint(!showHint)} className="flex-1 bg-blue-600 text-white py-3 rounded-xl font-semibold hover:bg-blue-700 transition-all flex items-center justify-center gap-2">{showHint ? 'Hide' : 'Show'} Hint</button>
          </div>
        </div>
        <div className="bg-white/10 backdrop-blur rounded-xl p-4 text-white text-sm">
          <div className="font-semibold mb-2">Did you know?</div>
          <div>π is an irrational number with infinite non-repeating digits. People have memorized over 70,000 digits!</div>
        </div>
      </div>
    </div>
  );
};
ReactDOM.render(<PiDigitsTracker />, document.getElementById('app'));
</script>
